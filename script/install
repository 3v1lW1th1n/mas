#!/bin/bash -e

PREFIX=/usr/local
INSTALL_TEMPORARY_FOLDER=/tmp/mas-cli.dst

# Override default prefix path with optional 1st arg
if test -n "$1"; then
    PREFIX="$1"
fi

echo "==> ðŸ“² Installing mas to $PREFIX"

xcodebuild install

ditto -v \
    "$INSTALL_TEMPORARY_FOLDER/Frameworks" \
    "$PREFIX/Frameworks"

ditto -v \
    "$INSTALL_TEMPORARY_FOLDER/bin" \
    "$PREFIX/bin"
